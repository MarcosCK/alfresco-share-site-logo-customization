function main(){var f=context.properties.editionInfo.edition;var b={};var o=page.url.templateArgs.toolid;var r=page.url.templateArgs.pageid;if(r!=null){var j=sitedata.getComponent("page","ctool",r);var q=sitedata.findWebScripts(r);for(var n=0;n<q.length;n++){var d=q[n],l=d.id,t=l.substring(l.lastIndexOf("/")+1,l.lastIndexOf(".")),e=(new String(d.getURIs()[0])).toString();if(validForEdition(d,f)){if(o.length==0){o=t}var u="tool."+t+".label",c="tool."+t+".description";var h="",a=null,m=d.scriptPath.split("/");if(m.length>4&&m[3]=="console"){h=m[4];a="tool.group."+h}var s={id:t,url:e,label:u,group:h,groupLabel:a,description:c,selected:(o==t)};if(!b[h]){b[h]=[]}b[h].push(s);if(s.selected){if(j==null){j=sitedata.newComponent("page","ctool",r)}if(j.properties.url!=e){j.properties.url=e;j.save(false)}}}}}var k=[];foreach(var p in b){k.push(p)}context.setValue("change-site-logo",k)}function validForEdition(a,g){var d=true,c=a.getFamilys();foreach(var b in c){if(b.match("^edition:")){d=false;foreach(var e in c){if(e.match("^edition:"+g)){d=true;break}}break}}return d}main();